# Flow Desk Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
LOG_LEVEL=info
PORT=3000
DATABASE_URL=sqlite:./data/flowdesk.db

# =============================================================================
# ENCRYPTION & SECURITY
# =============================================================================
# Generate with: openssl rand -base64 64
ENCRYPTION_KEY=your_32_character_encryption_key_here
JWT_SECRET=your_jwt_secret_key_here

# =============================================================================
# MAIL PROVIDER OAUTH CREDENTIALS
# =============================================================================

# Gmail / Google Workspace OAuth2
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Microsoft Outlook / Office 365 OAuth2
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret
MICROSOFT_REDIRECT_URI=http://localhost:3000/auth/microsoft/callback
MICROSOFT_TENANT_ID=common

# =============================================================================
# CALENDAR PROVIDER OAUTH CREDENTIALS  
# =============================================================================

# Google Calendar (uses same Google OAuth as Gmail)
GOOGLE_CALENDAR_SCOPES=https://www.googleapis.com/auth/calendar.readonly,https://www.googleapis.com/auth/calendar.events

# Microsoft Calendar (uses same Microsoft OAuth as Outlook)
MICROSOFT_CALENDAR_SCOPES=https://graph.microsoft.com/calendars.readwrite

# =============================================================================
# PLUGIN SYSTEM OAUTH CREDENTIALS
# =============================================================================

# Slack Integration
SLACK_CLIENT_ID=your_slack_client_id
SLACK_CLIENT_SECRET=your_slack_client_secret
SLACK_SIGNING_SECRET=your_slack_signing_secret
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_REDIRECT_URI=http://localhost:3000/auth/slack/callback

# Microsoft Teams Integration
TEAMS_CLIENT_ID=your_teams_client_id
TEAMS_CLIENT_SECRET=your_teams_client_secret
TEAMS_REDIRECT_URI=http://localhost:3000/auth/teams/callback

# GitHub Integration
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_REDIRECT_URI=http://localhost:3000/auth/github/callback

# Jira Integration
JIRA_CLIENT_ID=your_jira_client_id
JIRA_CLIENT_SECRET=your_jira_client_secret
JIRA_REDIRECT_URI=http://localhost:3000/auth/jira/callback

# Notion Integration
NOTION_CLIENT_ID=your_notion_client_id
NOTION_CLIENT_SECRET=your_notion_client_secret
NOTION_REDIRECT_URI=http://localhost:3000/auth/notion/callback

# Discord Integration
DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_client_secret
DISCORD_REDIRECT_URI=http://localhost:3000/auth/discord/callback

# Asana Integration
ASANA_CLIENT_ID=your_asana_client_id
ASANA_CLIENT_SECRET=your_asana_client_secret
ASANA_REDIRECT_URI=http://localhost:3000/auth/asana/callback

# Linear Integration
LINEAR_CLIENT_ID=your_linear_client_id
LINEAR_CLIENT_SECRET=your_linear_client_secret
LINEAR_REDIRECT_URI=http://localhost:3000/auth/linear/callback

# Trello Integration
TRELLO_CLIENT_ID=your_trello_client_id
TRELLO_CLIENT_SECRET=your_trello_client_secret
TRELLO_REDIRECT_URI=http://localhost:3000/auth/trello/callback

# ClickUp Integration
CLICKUP_CLIENT_ID=your_clickup_client_id
CLICKUP_CLIENT_SECRET=your_clickup_client_secret
CLICKUP_REDIRECT_URI=http://localhost:3000/auth/clickup/callback

# Monday.com Integration
MONDAY_CLIENT_ID=your_monday_client_id
MONDAY_CLIENT_SECRET=your_monday_client_secret
MONDAY_REDIRECT_URI=http://localhost:3000/auth/monday/callback

# =============================================================================
# COMMUNICATION PLATFORMS
# =============================================================================

# Signal Integration (requires Signal API setup)
SIGNAL_API_URL=https://your-signal-api-instance.com
SIGNAL_API_TOKEN=your_signal_api_token

# Telegram Integration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_WEBHOOK_URL=http://localhost:3000/webhooks/telegram

# WhatsApp Business Integration
WHATSAPP_BUSINESS_ACCOUNT_ID=your_whatsapp_business_account_id
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_VERIFY_TOKEN=your_whatsapp_verify_token
WHATSAPP_WEBHOOK_URL=http://localhost:3000/webhooks/whatsapp

# =============================================================================
# CLOUD STORAGE & SYNC
# =============================================================================

# AWS S3 (for encrypted config sync)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-west-2
AWS_S3_BUCKET=your-flowdesk-sync-bucket

# Google Drive (alternative sync option)
GOOGLE_DRIVE_FOLDER_ID=your_google_drive_folder_id

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================

# Push Notifications (FCM for mobile)
FCM_SERVER_KEY=your_fcm_server_key
FCM_PROJECT_ID=your_fcm_project_id

# Email Notifications (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_specific_password

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Test Database
TEST_DATABASE_URL=sqlite:./data/test.db

# Mock API Services (for testing without real OAuth)
USE_MOCK_APIS=false
MOCK_API_DELAY=500

# Test Email Account
TEST_EMAIL_USER=test@example.com
TEST_EMAIL_PASS=test_password

# Test Slack Workspace
TEST_SLACK_WORKSPACE=https://your-test-workspace.slack.com
TEST_SLACK_CHANNEL=#flow-desk-test

# =============================================================================
# PERFORMANCE & MONITORING
# =============================================================================

# Performance Monitoring
SENTRY_DSN=your_sentry_dsn_for_error_tracking

# Analytics (optional)
MIXPANEL_TOKEN=your_mixpanel_token

# =============================================================================
# MOBILE APP CONFIGURATION
# =============================================================================

# Expo Configuration (for React Native app)
EXPO_PUBLIC_API_URL=http://localhost:3000/api

# Deep Links
DEEP_LINK_SCHEME=flowdesk
DEEP_LINK_HOST=auth

# =============================================================================
# RUST ENGINE CONFIGURATION
# =============================================================================

# Rust library path (platform-specific)
RUST_LIB_PATH_MACOS=./shared/rust-lib/target/release/libflow_desk_rust.dylib
RUST_LIB_PATH_LINUX=./shared/rust-lib/target/release/libflow_desk_rust.so  
RUST_LIB_PATH_WINDOWS=./shared/rust-lib/target/release/flow_desk_rust.dll

# Search Engine Configuration
SEARCH_INDEX_PATH=./data/search_index
SEARCH_MAX_RESULTS=1000
SEARCH_TIMEOUT_MS=5000

# =============================================================================
# CORS & SECURITY
# =============================================================================

# Allowed Origins for CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8081

# Session Configuration  
SESSION_SECRET=your_session_secret_key
SESSION_MAX_AGE=86400000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# INSTRUCTIONS FOR SETUP
# =============================================================================

# 1. GOOGLE OAUTH SETUP:
#    - Go to: https://console.cloud.google.com/
#    - Create new project or select existing
#    - Enable Gmail API and Calendar API
#    - Create OAuth 2.0 credentials
#    - Add authorized redirect URIs
#    - Copy Client ID and Secret

# 2. MICROSOFT OAUTH SETUP:
#    - Go to: https://portal.azure.com/
#    - Register new application
#    - Configure API permissions for Mail and Calendar
#    - Generate client secret
#    - Copy Application ID and Secret

# 3. SLACK INTEGRATION SETUP:
#    - Go to: https://api.slack.com/apps
#    - Create new Slack app
#    - Configure OAuth scopes and bot token
#    - Set up slash commands and event subscriptions
#    - Install app to workspace

# 4. OTHER INTEGRATIONS:
#    - Follow similar OAuth setup for each service
#    - Ensure redirect URIs match your domain
#    - Test authentication flows

# 5. RUST LIBRARY COMPILATION:
#    - Navigate to ./shared/rust-lib/
#    - Run: cargo build --release
#    - Verify library exists in target/release/

# 6. DATABASE SETUP:
#    - Application will auto-create SQLite database
#    - For production, consider PostgreSQL

# 7. SECURITY CONSIDERATIONS:
#    - Never commit .env file to version control
#    - Use strong encryption keys  
#    - Rotate credentials regularly
#    - Enable 2FA on all service accounts